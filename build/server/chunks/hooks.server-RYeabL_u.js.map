{"version":3,"file":"hooks.server-RYeabL_u.js","sources":["../../../.svelte-kit/adapter-node/chunks/hooks.server.js"],"sourcesContent":["import \"./KindeSDK.js\";\nimport \"./index.js\";\nimport \"@kinde-oss/kinde-typescript-sdk\";\nasync function sessionHooks({ event }) {\n  event.request.setSessionItem = async (itemKey, itemValue) => {\n    event.cookies.set(`kinde_${itemKey}`, typeof itemValue === \"string\" ? itemValue : JSON.stringify(itemValue), {\n      path: \"/\"\n    });\n  };\n  event.request.getSessionItem = (itemKey) => {\n    const item = event.cookies.get(`kinde_${itemKey}`);\n    if (!item) {\n      return item;\n    }\n    if (/state/.test(itemKey)) {\n      return item;\n    }\n    try {\n      const result = JSON.parse(item);\n      return result;\n    } catch (error) {\n      return event.cookies.get(`kinde_${itemKey}`);\n    }\n  };\n  event.request.removeSessionItem = async (itemKey) => {\n    return event.cookies.delete(`kinde_${itemKey}`, {\n      path: \"/\"\n    });\n  };\n  event.request.destroySession = async () => {\n    event.cookies.getAll().forEach((item) => {\n      if (/^kinde_/.test(item.name)) {\n        event.cookies.delete(item.name, { path: \"/\" });\n      }\n    });\n    return;\n  };\n}\nconst handle = async ({ event, resolve }) => {\n  sessionHooks({ event });\n  const response = await resolve(event);\n  return response;\n};\nexport {\n  handle\n};\n"],"names":[],"mappings":";;;;;;;;;;AAGA,eAAe,YAAY,CAAC,EAAE,KAAK,EAAE,EAAE;AACvC,EAAE,KAAK,CAAC,OAAO,CAAC,cAAc,GAAG,OAAO,OAAO,EAAE,SAAS,KAAK;AAC/D,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,EAAE,OAAO,SAAS,KAAK,QAAQ,GAAG,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,EAAE;AACjH,MAAM,IAAI,EAAE,GAAG;AACf,KAAK,CAAC,CAAC;AACP,GAAG,CAAC;AACJ,EAAE,KAAK,CAAC,OAAO,CAAC,cAAc,GAAG,CAAC,OAAO,KAAK;AAC9C,IAAI,MAAM,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;AACvD,IAAI,IAAI,CAAC,IAAI,EAAE;AACf,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;AAC/B,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK;AACL,IAAI,IAAI;AACR,MAAM,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AACtC,MAAM,OAAO,MAAM,CAAC;AACpB,KAAK,CAAC,OAAO,KAAK,EAAE;AACpB,MAAM,OAAO,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;AACnD,KAAK;AACL,GAAG,CAAC;AACJ,EAAE,KAAK,CAAC,OAAO,CAAC,iBAAiB,GAAG,OAAO,OAAO,KAAK;AACvD,IAAI,OAAO,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC,EAAE;AACpD,MAAM,IAAI,EAAE,GAAG;AACf,KAAK,CAAC,CAAC;AACP,GAAG,CAAC;AACJ,EAAE,KAAK,CAAC,OAAO,CAAC,cAAc,GAAG,YAAY;AAC7C,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;AAC7C,MAAM,IAAI,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;AACrC,QAAQ,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC;AACvD,OAAO;AACP,KAAK,CAAC,CAAC;AACP,IAAI,OAAO;AACX,GAAG,CAAC;AACJ,CAAC;AACI,MAAC,MAAM,GAAG,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK;AAC7C,EAAE,YAAY,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;AAC1B,EAAE,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,KAAK,CAAC,CAAC;AACxC,EAAE,OAAO,QAAQ,CAAC;AAClB;;;;"}